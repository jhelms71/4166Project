<%- include('../partials/header.ejs') %>
    <div class="container">
        <div class="jumbotron">
            <h1>Sports</h1>
            <div class="sports">
                <!-- Add foreach loop to get all the connections including separating topics-->
                <% if (connections.length) { %>
                    <% topics = [];%>
                    <% connections.forEach(connection => {%>
                        <% if(!topics.includes(connection.topic)) { %>
                            <% topics.push(connection.topic); %>
                        <% } %>
                    <% }); %> 

                    <% topics.forEach(topic => { %>
                        <h2><%= topic %></h2>
                        <ul>
                        <% connections.forEach(connection => { %>
                            <% if(connection.topic === topic) {%>
                                <li><a href="/connections/<%= connection.id %>"><%= connection.title %></a></li>
                             <%} %>
                        <% }); %>
                        </ul>
                        
                    <% });%>
                    
                <% } else { %>
                    <p>There are no connections.</p>
                <% } %>
                
            </div>
        </div>
    </div>
<%- include('../partials/footer.ejs') %>